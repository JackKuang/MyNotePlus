# 复杂场景下的开发

最近在参与公司的迭代项目中，愈发感觉整理开发、架构上的问题，导致代码越来越难维护，也伴随着项目迭代上的风险。于是就有了开发上的一些思考。
导致这个问题的原因有啥：

* 产品设计迭代了，在功能上发生很大的变动。

  > 产品功能设计之初的满足需求并不多，但是随着版本迭代，功能不断叠加，导致很多原先上的功能开发无法支撑需求。
  > 拿一个经历过的例子，产品在起步阶段想法比较简单，产品思路简单，开发也可以很容易支持，但是随着产品不断迭代变化，导致当前的开发技术无法满足，可能导致架构上的调整。而在整体开发计划上，总是会最大化避免以往业务功能上开发。只能以牺牲代码质量来保障业务支撑。

* 开发上处理过于简单，很多地方使用if...else处理。

  > 随着业务发展，试图用if...else解决第一个问题，于是，第二个、第三个都是用if...else来解决。随着if...else越来越多，逻辑在迭代过程中变得越来越乱，最后彻底变成一个看不懂改不动的黑盒子，没有人能搞清楚黑盒子里面到底发生了什么。

* 开发同学比较多，部分接口重复开发。

  > 业务开发还是面向数据库开发，没有抽象业务，导致不同同学开发功能时，按自己的逻辑查询一边数据库，很容易出现重复开发。缺乏团队合作内容。

以及其他等等的一些原因，所以在开发整体功能的时候，需要不仅仅是去思考功能实现，更要想到后续功能迭代。

## 一、开发思维-解耦

解藕即减少模块之间的互相干扰，让各个模块的修改变化尽可能小的影响其他模块。
解藕的基本方法就是面向接口开发，也就是说各个模块只和接口发生耦合，要么调用接口，要么实现接口。正因如此，接口本身的设计是程序模块化的重中之重，大型程序中接口设计的优劣直接决定整个系统的优劣。

在一些业务中，存在一定程度上的关联依赖，需要避免跨层级调用。举一个简单的例子，在数据库查询上，A业务依赖B业务，而B业务依赖C业务，当A业务调用B业务的时候， 就会有B、C两张表直接联表查询。而当C的业务变更时，会发现除了修改C的业务之外，还需要修改C之上的B。这显然不符合常理。

所以在开发上，必须要做到每一层数据的解藕，保证业务上的隔离。

## 二、关注产品未来走向





## 三、巧用设计模式、设计原则