# Flink流JOIN

## 一、概述

### 1.1 什么是JOIN

JOIN的本质是分别重N（N>=1）张表中获取不同的字段，进而得到最完整的记录。比如我们有一个查询需求：在学生表（学号、姓名、性别），课程表（课程号、课程名、学分）和成绩表（学号、课程号、分数）中查询所有学生的姓名，课程和考试分数。如下：

![img](http://img.hurenjieee.com/uPic/640.jpg)

### 1.2 为啥需要JOIN

JOIN的本质是数据拼接，那么如果我们将所有的数据都存储在一张大表中，是不是就不需要JOIN了呢？答案确实是不需要JOIN了。但是现实业务中真的能做到所需的数据放到同一张大表里面吗？答案是否定的，核心原因有2个：

* 产生数据的源头坑你不是一个系统；
* 产生数据的源头是同一个系统，但是数据冗余的沉重代价，迫使我们会遵循数据库范式，进行表的设计。简说NF如下：
  * 1NF：列不可拆分
  * 2NF：符合1NF，并且非主键属性全部依赖于主键属性
  * 3NF：符合2NF，并且传递依赖，即：即任何字段不能由其他字段派生出来
  * BCNF：符合3NF，并且主键属性之间无依赖关系

### 1.3 JOIN的种类

* CROSS JOIN：交叉连接，计算笛卡尔积
* INNER JOIN：内连接，返回满足条件的记录
* OUTER JOIN
  * LEFT OUTER JOIN：返回左表所有行，右表不存在补NULL
  * RIGHT OUTER JOIN：返回右边所有行，左表不存在补NULL
  * FULL OUTER JOIN：返回左表和右表的并集，不存在一边补NULL
* SELF JOIN：自连接，将表查询时候明明不同的别名。

## 二、

## 三、

## 参考

Apache Flink 漫谈系列 - 双流JOIN：https://mp.weixin.qq.com/s/BiO4Ba6wRH4tlTdT2w7fzw